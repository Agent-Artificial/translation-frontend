{% block startRecording %}
  <button id="startRecording" 
  class="flex items-center justify-center bg-red-500 hover:bg-red-700 rounded-full font-bold text-white" style="width: 128px; height: 128px; overflow: hidden;"
  hx-target="#startRecording"
  hx-swap="innerHTML"
  hx-trigger="stopRecording"
  hidden>
  <img src="/assets/microphone.svg" alt="Microphone" /></button>
  <button id="stopRecording" 
  class="bg-red-500 hover:bg-red-700 p-4 rounded-full font-bold text-white" 
  hx-post="/modules/translate"
  hx-swap="innerHTML"
  hx-trigger="#startRecording"
  hx-confirm="Send audio to be translated?"
  hx-include="#inputModeOptions, #outputModeOptions, #sourceLanguageOptions, #targetLanguageOptions, #textAreaInput"
  value=""
  hidden>
  <img src="/assets/microphone-off.svg" alt="Microphone Off" class="mx-auto" /></button>
  <div id="recordingResults" class="m-2 htmx-indicator" src="assets/rings.svg"></div>
{% endblock %}
<script>
  document.body.addEventListener('htmx:confirm', function(evt) {
    if (evt.target.matches("[confirm-with-sweet-alert='true']")) {
      evt.preventDefault();
      swal({
        title: "Are you sure?",
        text: "Are you sure you are sure?",
        icon: "warning",
        buttons: true,
        dangerMode: true,
      }).then((confirmed) => {
        if (confirmed) {
          evt.detail.issueRequest();
        }
      });     
    }
  });
</script>